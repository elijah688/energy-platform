// Core palette
$rose-base: #e91e63
$rose-light: #f48fb1
$rose-dark: #ad1457
$rose-bg: #fff5f7
$text-color: #2c2c2c
$muted-text: #757575

// Global layout
.search-bar-container
  display: flex
  justify-content: center
  padding: 1rem 0
  background-color: $rose-bg
  border-bottom: 1px solid rgba($rose-dark, 0.1)

.search-bar
  width: 60%
  max-width: 600px

  mat-form-field
    width: 100%

// Users grid (fixed flex layout to prevent cards sliding)
.users-grid
  display: flex
  flex-wrap: wrap
  gap: 1.5rem
  justify-content: center
  padding: 2rem

  .user-card
    flex: 0 0 320px
    border-radius: 1.25rem
    background: #fff
    box-shadow: 0 2px 10px rgba($rose-dark, 0.1)
    transition: all 0.25s ease
    border: 1px solid rgba($rose-base, 0.05)
    display: flex
    flex-direction: column
    justify-content: space-between
    align-self: start
    overflow: hidden

    &:hover
      transform: translateY(-3px)
      box-shadow: 0 6px 16px rgba($rose-base, 0.2)

    .user-info
      padding: 1rem
      color: $text-color

      strong
        color: $rose-dark

      .user-id
        font-size: 0.75rem
        color: $muted-text
        margin-top: 0.25rem

    button
      margin: 1rem
      border-radius: 9999px
      text-transform: none
      background-color: $rose-base
      color: white
      font-weight: 500

      &:hover
        background-color: $rose-dark

    mat-accordion
      width: 100%

    mat-expansion-panel
      overflow: hidden

// Generators grid
.generators-grid
  display: grid
  grid-template-columns: repeat(auto-fill, minmax(140px, 1fr))
  gap: 1rem
  padding: 1rem

  .generator-item
    padding: 1rem
    text-align: center
    border-radius: 0.75rem
    background: rgba($rose-light, 0.15)
    transition: background-color 0.2s ease

    &.has-generators
      background: rgba($rose-base, 0.12)
      border: 1px solid rgba($rose-dark, 0.2)

    .generator-header
      display: flex
      flex-direction: column
      align-items: center
      margin-bottom: 0.5rem

    .generator-icon
      color: $rose-base
      font-size: 1.8rem

    .generator-label
      font-weight: 600
      color: $rose-dark
      font-size: 0.9rem

    .generator-count,
    .generator-production
      color: $text-color
      font-size: 0.85rem

// Transactions
.transaction-item
  background: rgba($rose-base, 0.05)
  border-left: 3px solid $rose-base
  padding: 0.75rem 1rem
  margin: 0.5rem 0
  border-radius: 0.5rem
  font-size: 0.9rem

  .tx-row
    display: flex
    justify-content: space-between
    color: $text-color

    .tx-label
      font-weight: 600
      color: $rose-dark

.no-generators,
.no-transactions
  text-align: center
  color: $muted-text
  padding: 1rem

// Pagination
.pagination
  display: flex
  justify-content: center
  gap: 1rem
  padding: 2rem 0

  button
    background-color: $rose-light
    color: white
    font-weight: 500
    border-radius: 2rem

    &:hover
      background-color: $rose-base

// Selected users (updated with prettier layout)
.selected-users
  margin: 2rem
  padding: 2rem
  background: linear-gradient(135deg, rgba($rose-base,0.05), rgba($rose-light,0.1))
  border-radius: 1.5rem
  box-shadow: 0 4px 14px rgba($rose-dark, 0.15)

  h3
    color: $rose-dark
    text-align: center
    margin-bottom: 1.5rem
    font-size: 1.5rem
    font-weight: 600

  .selected-grid
    display: flex
    gap: 2rem
    justify-content: center
    flex-wrap: wrap
    padding: 1rem

    .user-card.selected
      flex: 0 0 220px
      background: #fff
      border: 1px solid $rose-base
      border-radius: 1rem
      box-shadow: 0 4px 12px rgba($rose-base, 0.25)
      display: flex
      flex-direction: column
      align-items: center
      padding: 1rem
      transition: transform 0.2s ease, box-shadow 0.2s ease

      &:hover
        transform: translateY(-5px)
        box-shadow: 0 8px 20px rgba($rose-base, 0.3)

      .user-info
        text-align: center
        margin-bottom: 0.75rem

        strong
          display: block
          font-size: 1.1rem
          color: $rose-dark

        div
          font-size: 0.9rem
          color: $text-color

      button
        width: 100%
        margin-top: auto
        border-radius: 9999px
        background-color: $rose-light
        color: white
        font-weight: 500

        &:hover
          background-color: $rose-base

// Trade action button
.trade-action
  display: flex
  justify-content: center
  padding-top: 1rem

  button
    background: $rose-base
    color: white
    font-weight: 600
    border-radius: 9999px

    &:hover
      background: $rose-dark

// Button state enhancements
button[disabled],
.mat-mdc-button[disabled],
.mat-mdc-raised-button[disabled],
.mat-mdc-outlined-button[disabled]
  opacity: 0.45
  cursor: not-allowed
  background-color: rgba($rose-base, 0.25) !important
  color: rgba(255, 255, 255, 0.6) !important
  box-shadow: none !important
  border: none

button:not([disabled]),
.mat-mdc-button:not([disabled]),
.mat-mdc-raised-button:not([disabled]),
.mat-mdc-outlined-button:not([disabled])
  transition: all 0.2s ease
  cursor: pointer
  background-color: $rose-base
  color: white
  font-weight: 500

  &:hover
    background-color: $rose-dark
    box-shadow: 0 4px 10px rgba($rose-base, 0.3)

  &:focus-visible
    outline: 2px solid rgba($rose-base, 0.5)
    outline-offset: 3px
